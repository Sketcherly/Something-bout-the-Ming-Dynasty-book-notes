<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel='stylesheet' href='./timesheet.min.css' />
    <style>
        html,
        body {
            margin: 0;
            padding: 0;
        }
    </style>
</head>

<body>
    <div id="timesheet"></div>
    <!-- <script src='./timesheet.min.js'></script> -->
    <script src='./timesheet.min.js'></script>
    <script>
        let min = 1328;
        let max = 1675;

        // ['2002', '09/2002', 'A freaking awesome time', 'lorem'],
        // ['06/2002', '09/2003', 'Some great memories', 'ipsum'],
        // ['2003', 'Had very bad luck'],
        // ['10/2003', '2006', 'At least had fun', 'dolor'],
        // ['02/2005', '05/2006', 'Enjoyed those times as well', 'ipsum'],
        // ['07/2005', '09/2005', 'Bad luck again', 'default'],
        // ['10/2005', '2008', 'For a long time nothing happened', 'dolor'],
        // ['01/2008', '05/2009', 'LOST Season #4', 'lorem'],
        // ['01/2009', '05/2009', 'LOST Season #4', 'lorem'],
        // ['02/2010', '05/2010', 'LOST Season #5', 'lorem'],
        // ['09/2008', '06/2010', 'FRINGE #1 & #2', 'ipsum']
        let color = ['default', 'lorem', 'ipsum', 'dolor', 'sit'];

        let data = [
            ['09/1328', '05/1398', '朱元璋，国号大明，年号洪武，庙号太祖，谥号高皇帝，享年70', ''],
            ['04/1360', '07/1424', '朱棣，年号永乐，庙号成祖，谥号文皇帝，享年65', ''],
            ['01/1368', '05/1398', '朱元璋在位31年', ''],
            ['11/1377', '06/1402', '朱允炆，年号建文，庙号惠宗，谥号成皇帝，享年25，卒年争议(一说自焚，一说逃走后隐居)', ''],
            ['07/1378', '05/1425', '朱高炽，年号洪熙，庙号仁宗，谥号昭皇帝，享年48', ''],
            ['05/1398', '06/1402', '朱允炆在位4年', ''],
            ['02/1399', '12/1434', '朱瞻基，年号宣德，庙号宣宗，谥号章皇帝，享年38', ''],
            ['06/1402', '07/1424', '朱棣在位22年', ''],
            ['07/1424', '05/1425', '朱高炽在位1年', ''],
            ['05/1425', '00/1435', '朱瞻基在位10年', ''],
            ['00/1427', '00/1464', '朱祁镇，年号正统、天顺，庙号英宗，谥号睿皇帝，享年38', ''],
            ['00/1428', '00/1457', '朱祁钰，年号景泰，庙号代宗，谥号景皇帝，享年30', ''],
            ['00/1436', '00/1449', '朱祁镇（正统）在位13年', ''],
            ['00/1447', '00/1487', '朱见深，年号成化，庙号宪宗，谥号纯皇帝，享年41', ''],
            ['00/1450', '00/1457', '朱祁钰在位8年', ''],
            ['00/1457', '00/1464', '朱祁镇（天顺）在位7年', ''],
            ['00/1465', '00/1487', '朱见深在位23年', ''],
            ['00/1470', '00/1505', '朱祐樘，年号弘治，庙号孝宗，谥号敬皇帝，享年36', ''],
            ['00/1488', '00/1505', '朱祐樘在位18年', ''],
            ['00/1491', '00/1521', '朱厚燳，年号正德，庙号武宗，谥号毅皇帝，享年31', ''],
            ['00/1506', '00/1521', '朱厚照在位16年', ''],
            ['00/1507', '00/1567', '朱厚熜，年号嘉靖，庙号世宗，谥号肃皇帝，享年60', ''],
            ['00/1522', '00/1566', '朱厚熜在位45年', ''],
            ['00/1537', '00/1572', '朱载垕，年号隆庆，庙号穆宗，谥号庄皇帝，享年36', ''],
            ['00/1563', '00/1620', '朱翊钧，年号万历，庙号神宗，谥号显皇帝，享年58', ''],
            ['00/1567', '00/1572', '朱载垕在位6年', ''],
            ['00/1573', '00/1620', '朱翊钧在位48年', ''],
            ['00/1582', '00/1620', '朱常洛，年号泰昌，庙号光宗，谥号贞皇帝，享年39', ''],
            ['00/1602', '00/1646', '朱聿键，年号弘光，庙号安宗，谥号襄皇帝，享年45', ''],
            ['00/1605', '00/1627', '朱由校，年号天启，庙号熹宗，谥号悊皇帝，享年23', ''],
            ['00/1605', '00/1647', '朱聿鐭，年号绍武，庙号文宗，谥号节皇帝，享年43', ''],
            ['00/1607', '00/1646', '朱由崧，年号弘光，庙号安宗，谥号简皇帝，享年40', ''],
            ['00/1611', '00/1644', '朱由检，年号崇祯，庙号思宗，谥号烈皇帝，享年35', ''],
            ['00/1620', '00/1620', '朱常洛在位1个月', ''],
            ['00/1621', '00/1627', '朱由校在位7年', ''],
            ['00/1623', '00/1662', '朱由榔，年号永历，庙号昭宗，谥号匡皇帝，享年40', ''],
            ['00/1628', '00/1644', '朱由检在位17年', ''],
            ['00/1644', '00/1645', '朱由崧在位2年', ''],
            ['00/1645', '00/1646', '朱聿键在位2年', ''],
            ['00/1646', '00/1646', '朱聿鐭在位1年', ''],
            ['00/1646', '00/1662', '朱由榔在位17年', ''],
            // ['/', '/', '', ''],

        ];

        for (let i = 0; i < data.length; i++) {
            data[i][data[i].length - 1] = color[i%color.length];
        }

        new Timesheet('timesheet', min, max, data);

        // 计算宽度
        let width = (max - min + 1) * 60;
        document.querySelector('.timesheet').style.width = width + 'px';

        // 计算高度
        let height = data.length * 24 + 28;
        document.querySelector('.timesheet').style.height = height + 'px';

        // 点击事件
        let lines = document.querySelector('.timesheet .data').children;
        for (let i = 0; i < lines.length; i++) {
            lines[i].addEventListener('click', function () {
                let text = this.children[1].innerText;
                text += '\n';
                text += this.children[2].innerText;
                alert(text);
            });
        }

    </script>
</body>

</html>